#!/bin/bash
# Based on android-mtp.sh by Fran√ßois-Xavier Thomas <fx.thomas@gmail.com>
# Requires jmtpfs package (AUR)

CMD="$1"
DEV="$2"

MNT_PNT="/media/$DEV"

case $CMD in
    mount)
        echo "Mounting MPT device on $MNT_PNT"
        /bin/mkdir -p "$MNT_PNT"
        /usr/bin/jmtpfs "$MNT_PNT" -o nodev,allow_other,rw,noatime,uid=1000,gid=100
        ;;
    umount)
        echo "Unmounting MPT device on $MNT_PNT"
        /usr/bin/fusermount -u "$MNT_PNT"
        /bin/rmdir "$MNT_PNT"
        ;;
    *)
        echo "Usage: android_mount mount|umount <device_name>"
        echo "Mount point: $MNT_PNT"
        ;;
esac

